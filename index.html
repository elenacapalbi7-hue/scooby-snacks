<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Juego Runner Simple</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      text-align: center;
      background: #eee;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: #ccc;
    }
    #jumpBtn {
      padding: 10px 20px;
      font-size: 20px;
      margin: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <button id="jumpBtn">JUMP</button>
  <script>
    // --- Variables ---
    let canvasWidth = 600;
    let canvasHeight = 400;
    let player, obstacles = [];
    let groundY = canvasHeight - 50;
    let gravity = 0.6;
    let jumpForce = -12;
    let gameStarted = false;
    let speed = 2; // velocidad inicial muy lenta
    let score = 0;

    // --- Setup ---
    const canvas = document.createElement('canvas');
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');

    player = {
      x: 50,
      y: groundY,
      size: 40,
      ySpeed: 0,
      onGround: true,
      color: '#8B4513' // marr칩n
    };

    document.getElementById('jumpBtn').addEventListener('click', () => {
      if (!gameStarted) gameStarted = true;
      playerJump();
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === ' ' || e.key === 'ArrowUp') {
        if (!gameStarted) gameStarted = true;
        playerJump();
      }
    });

    // --- Funciones ---
    function playerJump() {
      if (player.onGround) {
        player.ySpeed = jumpForce;
        player.onGround = false;
      }
    }

    function spawnObstacle() {
      obstacles.push({
        x: canvasWidth,
        y: groundY,
        size: 40,
        color: '#FF0000' // rojo
      });
    }

    function update() {
      ctx.clearRect(0, 0, canvasWidth, canvasHeight);

      // Suelo
      ctx.fillStyle = '#444';
      ctx.fillRect(0, groundY, canvasWidth, canvasHeight - groundY);

      if (gameStarted) {
        // Obst치culos
        if (Math.random() < 0.01) spawnObstacle();

        for (let i = obstacles.length - 1; i >= 0; i--) {
          obstacles[i].x -= speed;
          ctx.fillStyle = obstacles[i].color;
          ctx.fillRect(obstacles[i].x, obstacles[i].y - obstacles[i].size, obstacles[i].size, obstacles[i].size);

          // Colisi칩n
          if (
            player.x < obstacles[i].x + obstacles[i].size &&
            player.x + player.size > obstacles[i].x &&
            player.y > obstacles[i].y - obstacles[i].size
          ) {
            gameStarted = false;
            obstacles = [];
            player.y = groundY;
            player.ySpeed = 0;
            score = 0;
          }

          // Limpiar obst치culos fuera de pantalla
          if (obstacles[i].x + obstacles[i].size < 0) obstacles.splice(i, 1);
        }

        // Actualizar jugador
        player.ySpeed += gravity;
        player.y += player.ySpeed;
        if (player.y > groundY) {
          player.y = groundY;
          player.ySpeed = 0;
          player.onGround = true;
        }

        // Score
        score++;
      } else {
        // Mensaje de espera
        ctx.fillStyle = '#000';
        ctx.font = '24px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('Toca JUMP para empezar', canvasWidth / 2, canvasHeight / 2);
      }

      // Dibujar jugador
      ctx.fillStyle = player.color;
      ctx.fillRect(player.x, player.y - player.size, player.size, player.size);

      // Dibujar score
      ctx.fillStyle = '#000';
      ctx.font = '16px Arial';
      ctx.textAlign = 'left';
      ctx.fillText('Score: ' + score, 10, 30);

      requestAnimationFrame(update);
    }

    update();
  </script>
</body>
</html>
